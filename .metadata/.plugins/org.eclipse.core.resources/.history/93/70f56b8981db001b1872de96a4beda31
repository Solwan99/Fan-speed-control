/******************************************************************************
 *
 * File Name: DCmotor.c
 *
 * Description: Source file for the DCmotor controlled by the timer's PWM signal
 *
 * Author: Solwan Shokry Ahmed
 *
 *******************************************************************************/

#include "DCmotor.h"

void DCmotor_Init(void)
{
	/*Make PORTD pins 0,1 as output pins for the motor*/
	DDRD|=(1<<PD6)|(1<<PD5)|(1<<PD3)|(1<<PD4);

}
void DCmotor_set_Operation_DirectionMode(uint8 motorDirection)
{

	switch (motorDirection)
	{
		/*Stop the motor's motion*/
	case DC_MOTOR_MOVING_STOP:
		PORTD&=~ ( (PB0) | (PB1) );
		break;

	/*Rotate the motor in a Clock-wise manner*/
	case DC_MOTOR_MOVING_FORWARD:

		PORTD|=(1<<PD6);
		PORTD|=(1<<PD3);
		PORTD&= ~(1<<PD5);
		PORTD&= ~(1<<PD4);
		break;

	/*Rotate the motor RIGHT*/
	case DC_MOTOR_MOVING_RIGHT:
		PORTD|=(1<<PD5);
		PORTD|=(1<<PD3);
		PORTD&= ~(1<<PD4);
		PORTD&= ~(1<<PD6);
		break;

	case DC_MOTOR_MOVING_LEFT:
		PORTD|=(1<<PD6);
		PORTD|=(1<<PD4);
		PORTD&= ~(1<<PD5);
		PORTD&= ~(1<<PD3);
		break;
	}

}
